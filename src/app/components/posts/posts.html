<div class="container-main">
  <div class="page-header">
    <h1>Latest Posts</h1>
    <p class="lead">Stay updated with the latest announcements and information</p>
  </div>

  <!-- Loading indicator - displayed while fetching data -->
  @if (isLoading) {
    <div class="text-center my-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3">Loading posts...</p>
    </div>
  }

  <!-- Error message - displayed if API call fails -->
  @if (errorMessage && !isLoading) {
    <div class="alert alert-danger" role="alert">
      <h4 class="alert-heading">Error Loading Posts</h4>
      <p>{{ errorMessage }}</p>
      <button class="btn btn-outline-danger" (click)="fetchPosts()">Try Again</button>
    </div>
  }

  <!-- Posts list - displayed when data is successfully loaded -->
  @if (!isLoading && posts.length > 0 && !errorMessage) {
    <div class="posts-grid">
      <!-- Loop through each post using @for control flow -->
      @for (post of posts; track post.id) {
        <div class="post-card">
          <div class="post-header">
            <span class="post-id">Post #{{ post.id }}</span>
            <span class="post-user">User {{ post.userId }}</span>
          </div>
          <h3 class="post-title">{{ post.title }}</h3>
          <p class="post-body">{{ post.body }}</p>
        </div>
      }
    </div>
  }

  <!-- Empty state - displayed if no posts are returned -->
  @if (!isLoading && posts.length === 0 && !errorMessage) {
    <div class="alert alert-info">
      No posts available at the moment.
    </div>
  }
</div>
